<?xml version="1.0"?>
<!-- 
    Note: As an alternative to hand editing this file you can use the 
    web admin tool to configure settings for your application. Use
    the Website->Asp.Net Configuration option in Visual Studio.
    A full list of settings and comments can be found in 
    machine.config.comments usually located in 
    \Windows\Microsoft.Net\Framework\v2.x\Config 
-->
<configuration>


    <system.webServer>
      <rewrite>
        <rules>
          <rule name="Force HTTPS" enabled="true">
            <match url="(.*)" ignoreCase="false" />
            <conditions>
              <add input="{HTTPS}" pattern="off" />
            </conditions>
            <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
          </rule>
        </rules>
      </rewrite>
    </system.webServer>

  
  
  <appSettings>
    <add key="fileUploadPath" value="~/Uploads/" />
  </appSettings>
	<connectionStrings>
		<!--
		<add name="CityControllerConnectionString" connectionString="Data Source=ZEODEV01;Initial Catalog=CityController;Persist Security Info=True;User ID=citycontroller;Password=dande89lyon!"
            providerName="System.Data.SqlClient" />
		<add name="CityControllerConnectionString" connectionString="Data Source=72.18.156.74,1533;Initial Catalog=CityController;Persist Security Info=True;User ID=citycontroller;Password=dande89lyon!" providerName="System.Data.SqlClient"/>

		
    		<add name="AlleghenyCountyConnectionString" connectionString="Data Source=localhost\SQLEXPRESS;Initial Catalog=AlleghenyCounty;Persist Security Info=True;User ID=citycontroller;Password=dande89lyon!" providerName="System.Data.SqlClient"/>
-->

    <add name="AlleghenyCountyConnectionString" connectionString="Server=tcp:allegheny.database.windows.net,1433;Database=Allegheny_County_PROD;User ID=county_user;Password=MonkeY1984;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;"/>
  </connectionStrings>
	<system.web>
		<!-- 
            Set compilation debug="true" to insert debugging 
            symbols into the compiled page. Because this 
            affects performance, set this value to true only 
            during development.
        -->
		<customErrors defaultRedirect="Error.aspx" mode="Off">
			<error statusCode="500" redirect="Error.aspx"/>
			<error statusCode="404" redirect="404.aspx"/>
			<error statusCode="403" redirect="Error.aspx"/>
		</customErrors>
		<!--<compilation debug="true" targetFramework="4.0"> batch false prevents ASP._masters_masterpage_master exists in both ... errors -->
		<compilation debug="true" batch="false">
		</compilation>
		<authentication mode="Forms">
			<forms loginUrl="~/Admin/login.aspx" name="AuthCookie" timeout="60" defaultUrl="~/Admin/Default.aspx" slidingExpiration="false"/>
		</authentication>
		<authorization>
			<allow users="*"/>
		</authorization>
		<!--<pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID"/>--></system.web>
	<location path="Admin">
		<system.web>
			<authorization>
				<deny users="?"/>
				<allow users="*"/>
			</authorization>
		</system.web>
	</location>
	<!--
		<authentication mode="Windows" />
	</system.web>
-->
	<!-- 
        The system.webServer section is required for running ASP.NET AJAX under Internet
        Information Services 7.0.  It is not necessary for previous version of IIS.
    -->
</configuration>
